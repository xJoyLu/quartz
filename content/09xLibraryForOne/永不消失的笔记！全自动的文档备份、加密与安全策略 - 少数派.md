author:: 二一的笔记
source:: [永不消失的笔记！全自动的文档备份、加密与安全策略 - 少数派](https://sspai.com/post/76130)
clipped:: [[2022-11-05]]
published:: 

## **前言**

请想象这样的一个画面——你起早贪黑，历尽艰辛写了一整个学期的毕业论文，或者工作中一整个团队耗费无数人力物力才能推进的项目文档，因为平白无故的**软件错误、电脑进水、硬盘损坏，甚至是中了勒索病毒**——永远永远地丢失了。那应该会是你人生中为数不多的，想一头撞在墙上的时刻。

东西坏了可以再买，钱丢了可以再赚，笔记软件可以再换，可是你所记录的文字、拍摄的图片、录制的视频，**一旦丢失就意味着你的人生从此空缺了一块难再弥补的漏洞。**就算能够得到修复，你也不得不体验同一件事做两遍的痛苦**，**这种切肤之痛只有经历过才能痛彻心扉。

**所以本文将为你呈现以下内容**

1.  你的数据有多不安全？
2.  如何保证本地文档的数据安全？
3.  如何提高云端文档的数据安全性？

![image-20221011215818574](https://cdn.sspai.com/2022/10/11/article/225e9462d75f28d638d5a3e019574886?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**注意：**

-   因为本人没有程序代码方面的知识，所以本文面向的也是普通用户
-   本人对于与技术相关的部分术语的理解可能存在偏差，欢迎指正批评

## **你的数据并不安全**

**你的硬盘比你想象的更不可靠**

-   全球知名的存储服务提供商 Blackblaze，在 2022 年第二季度发布了一份关于硬盘故障率的 [统计报告](https://www.backblaze.com/blog/backblaze-drive-stats-for-q2-2022/)，报告显示他们所使用的 21 万块硬盘，其产品生命周期内的**平均年化故障率为 1.39%。**
-   勒索病毒自 2017 年开始席卷全球，无数企业和个人用户的硬盘数据因被病毒加密而丢失

**云端数据比你想象的更加安全**

-   印象笔记用腾讯云，Notion 用亚马逊云，wolai 用阿里云，这些大中型在线笔记软件都选择了国内外顶级的云服务器提供商，而这些云服务器提供商都为其客户提供了相当程度的数据容灾备份保证
-   以腾讯云为例，他们宣称在用户写入数据时，腾讯云硬盘就将其存储到不同机架上，**时刻保证用户数据有三份副本可用，可靠性达 99.9999999%**

**你的数据永远都处在风险之中**

-   2018 年 7 月，腾讯云因运维违规操作，使「前沿数控技术」**所有数据丢失且不可恢复**，遭索赔 1000 万
-   2019 年 3 月，阿里云出现大规模故障，华北地区众多互联网公司、App 与网站出现瘫痪
-   2021 年 12 月，亚马逊云服务器大规模宕机，大量网站和服务瘫痪，损失超过千万美元

尽管云计算服务商与云笔记公司都对用户信誓旦旦地承诺，他们会竭尽所能地保障用户的数据安全，但事实说明这暂时还只能是个美好的祝愿。

![image-20221011215850222](https://cdn.sspai.com/2022/10/11/article/1e15397ddf0d568018b7a6d976301f98?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

## **请遵循 3-2-1 备份原则**

-   **3 份副本：**除了原始数据外，你应当至少保证还有另外两份数据的副本。就算单份数据损坏的概率高到了百分之一，三份同时丢失的概率也将下降到百万分之一，当然前提是这三份数据没有放在同一个地方。
-   **2 种存储介质：**除了内部存储（例如电脑自带的硬盘），还应当至少将一份数据存放于外部的存储介质中，例如 U 盘、移动硬盘、磁带、光盘等
-   **1 份异地存储：**至少将一份副本存放于有一定物理距离的异地，以防止因洪水、火灾、地震等原因造成的数据团灭

这个原则在备份这件事上算得上是世界公认的金科玉律，尽管现在还有 4-3-2-1，3-2-2 之类的变种，但对普通人来说，3-2-1 就已经算是尽善尽美的备份原则了。

![image-20221011215903426](https://cdn.sspai.com/2022/10/11/article/605c64ecfb1ccf0b1e53f9f0cf8b3b4c?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

## **我的文档备份全流程**

**注意**

1.  我目前使用的主力笔记软件（Logseq、Obsidian）都支持本地离线，所有文档以 Markdown 格式存储，所以我只需要注意备份和加密这些本地文档即可
2.  我会先演示我自己在用的一些文档数据的**备份和加密**方法，其中的关键设备是 NAS，其实还是有一定的使用成本和折腾门槛的。**后面的内容我会介绍面向普通用户，更简单或成本更低的方法。**
3.  但同时我偶尔也会使用诸如 Notion、wolai、石墨文档之类的纯云端笔记或文档工具，所以我也会介绍该如何提高这些云端数据的安全性

![image-20221011215914716](https://cdn.sspai.com/2022/10/11/article/ebb9ef3425bd3ee44fffb0b35bc12fb8?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

### **我的备份中枢 - 群晖 NAS**

群晖 NAS 是我的数据备份中枢，而 NAS 简单理解就是一个小小的铁盒子，里面放了很多块大容量的硬盘，并且有一个 7\*24 小时开机的处理器，可以像个人电脑一样处理一些简单的存储和上传任务。

NAS 可以用网线或 WiFi 直连电脑，使得我们能够将电脑中的数据上传到这个独立的铁盒子中，以完成第一次备份；NAS 也可以**通过互联网与其他云存储服务进行连接**，比如百度网盘、Google Drive 之类的网络服务，使得 NAS 中的数据还能够继续上传到云端，以完成第二次备份。

![image-20221011215926201](https://cdn.sspai.com/2022/10/11/article/4c71b3e0dda1888b66ca275cf70c07e7?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

#### **第一份数据副本 - 群晖 NAS 本地存储**

我的 MacBook 和 Windows 上的所有的重要文档都自动上传到了 NAS 上，成为我的第一份数据副本。

而且这台 NAS 的存储池做了 **SHR 模式的备份**（类似 Raid 5），在这个模式下，假设我有 4 块硬盘，就算坏掉了其中任意一块，NAS 也能正常使用，并且只要拔掉坏了的硬盘，换上新的，所有数据就可以被**完美地自动修复**。

![image-20221011215941539](https://cdn.sspai.com/2022/10/11/article/66143d32bc40a04440212217290fb139?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**群晖数据加密**

你还可以在群晖中创建一个独立加密的共享文件夹，它会用 AES-256 级别的算法加密整个文件夹，以防止你的整台群晖或者群晖里的硬盘被盗。在文件夹单独加密的情况下，**即使你拥有最高的管理员权限，如果没有解密的秘钥，这个文件夹也将是不可访问的。**

![image-20221011215949066](https://cdn.sspai.com/2022/10/11/article/9461c04084059ebb5a5a2da14d9e571b?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

#### **第二份数据副本 - 云端网盘**

群晖 NAS 上有个套件（App）叫 CloudSync，能够将 NAS 与目前主流的云存储服务进行连接，如下图所示：

![image-20221011220003581](https://cdn.sspai.com/2022/10/11/article/20a75ce573d7f1930c5ea031f7ff2d76?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

CloudSync 支持自动定时地将 NAS 与网盘之间进行双向同步，最重要的是还**支持加密上传功能**，所有上传到网盘的文件都会被用 **AES-256** 级别的算法进行加密，最大程度保证了你存放在网盘上的数据隐私。关于这种加密算法的强度，你可以观看 3B1B 的这个视频：[《256位加密有多安全？》](https://www.bilibili.com/video/BV1yx411i7BX)

经测试，就算是 3G 大小的视频文件，加密和解密也只需要几秒钟的时间，所以原则上任何类型的文件你都可以用这个方法加密上传到公共网盘中。哪怕网盘文件遭到泄露，**只要你没有秘钥，就无法正确打开这个文件**，如下图所示：

![image-20221011220014341](https://cdn.sspai.com/2022/10/11/article/5284ee02d2e6d2f7661682662e8c5310?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

关于 CloudSync 更详细的说明，你可以阅读这份群晖官方撰写的[《Cloud Sync White Paper》](https://global.download.synology.com/download/Document/Software/WhitePaper/Package/CloudSync/All/enu/Synology_Cloud_Sync_White_Paper-Based_on_DSM_6.1.pdf)。

至于解密这些文件也很简单，你只需要在群晖官网的 [下载中心](https://www.synology.cn/zh-cn/support/download)，下载 Synology Cloud Sync Decryption Tool 这个工具即可。

#### **第三份数据副本 - 本地移动硬盘**

通常我不怎么频繁地使用这个方法，只会每个月备份一次。但如果你的群晖盘位不够做 SHR 或者 Raid 备份，就可以用这个方法使用移动硬盘进行定期备份。

群晖 NAS 有个套件叫 USB Copy，可以设置为当移动硬盘插入 NAS 的 USB 口时，自动将指定的文件夹备份到移动硬盘中。

![image-20221011220029017](https://cdn.sspai.com/2022/10/11/article/d4b63fc831eb933bb32fac7762d23104?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

另外，如果你还需要**加密备份**到移动硬盘的话，则可以使用 Hyper Backup 这个套件。

![image-20221011220152987](https://cdn.sspai.com/2022/10/11/article/4e80f49b8d663431993b8397a41041b2?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

如此一来，如果将 MacBook 或 Windows 上的数据算在内，我现在的所有数据都拥有至少 4 份副本，并且其中有一份是加密存储在云端上，如果这样还能丢数据的话，那我只能微笑地面对恐惧了 :-)

![image-20221011220201804](https://cdn.sspai.com/2022/10/11/article/8c9cde1bff39239ec039333efcadd194?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

### **群晖并不适合所有用户**

群晖 NAS 说到底是个昂贵的东西，比 NAS 更贵的则是塞在里边的硬盘和配件。

我目前使用的 DS920+ 搭配 4 块 8T NAS 硬盘总价已经超过一万，但就我目前的体验来看，其实再降两级也完全足够，毕竟我对 Docker 和虚拟机之类的需求真的很少，所以如果你纯粹只是想用 NAS 来做简单的文档与影音文件的管理与备份，我认为**群晖入门款的 DS220+ 完全够用**，或者你也可以选购价格相对更低的威联通。

![image-20221011220210354](https://cdn.sspai.com/2022/10/11/article/537b55b2adc295a4202e8fb1663bbc31?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

## **通用的备份与加密方法**

### **备份前先加密**

如果你没有类似群晖这种在备份时能自动加密的设备，那么在我们将文档上传到云端之前，或者使用其他存储设备进行备份之前，你可能会需要对这些文档进行一定程度的加密处理，以防止诸如**网盘账号泄露**、或者**整个移动硬盘丢失**导致数据被第三方获取的情况发生。

#### **Office 自带加密**

Office 三件套都可以通过下图这种软件自带的方法来添加密码，并且 Office 从 [2016 版本](https://learn.microsoft.com/en-us/deployoffice/security/cryptography-and-encryption-in-office) 开始都采用 AES-256 级别的加密。

![](https://cdn.sspai.com/2022/10/11/e9b9afc4e2623d1a1873eb61e6cf3355.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

#### **将任意文件加密**

**1、使用压缩软件进行加密**

-   Windows 常用的解压缩工具都支持压缩文件时设置解压密码的功能
-   Mac 端则推荐使用 [Keka](https://www.keka.io/zh-cn/) 这款免费的解压缩工具来对文件进行加密式压缩

![](https://cdn.sspai.com/2022/10/11/c5d03bff62f9797f2e91c5052e3978e4.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**2、使用专业的加密工具进行加密**

推荐这款由开发了 Setapp 和 CleanMyMac 的公司 Macpaw 所出品的免费加密软件 [Encrypto](https://macpaw.com/encrypto)，主要是颜值真的非常高。它有 macOS 客户端以及 Windows 客户端，支持对单个文件或者对整个文件夹进行 AES-256 级别的加密以及解密。

![](https://cdn.sspai.com/2022/10/11/5b1e7341a8f2e750a4c913f788faa90d.gif)

加密后的文件将带有 `.crypto`的格式后缀，不熟悉这款软件的人根本不知道这种后缀格式的文件是干嘛用的，无形之中又多了一层私密性。

#### **将整个盘符加密**

这个场景更适用于电脑送修，或者是预防个人电脑失窃等情况的发生。

-   Mac 系统默认开启文件保险箱功能，会对整个系统的所有数据进行加密

![image-20221011220309199](https://cdn.sspai.com/2022/10/11/article/093064c2be480daeb6b3a4629b37598a?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

-   Windows 系统则可以用系统自带的 Bitlocker 功能，对整个盘符进行加密。

![](https://cdn.sspai.com/2022/10/11/e015defba4416bdf88c65840745eee8b.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**Windows 有两种方式启用 Bitlocker 进行加密**

1.  点击「开始」菜单，搜索 Bitlocker，然后打开 Bitlocker 面板
2.  右键你需要加密的分区（如 D 盘），在弹出的子菜单中选择「启用 Bitlocker」

设置你的密码后，之后系统就会对整个分区进行加密

![image-20221011220327975](https://cdn.sspai.com/2022/10/11/article/de0a1ca7316d22591664b98d2d6f3453?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**注意**

1.  Bitlocker 并不支持对单个文件进行加密，只能整个分区加密
2.  加密过程比较漫长，需要耐心等待
3.  对机械硬盘的性能损耗较大，最好单独划分一个区来加密特定的文件库，未加密的分区不受性能影响
4.  请务必在完全了解 Bitlocker 的原理，以及遗失密码将造成的影响（所有文件将不可能再被读取）之后，再决定是否启用这个功能。你可以阅读少数派的 [这篇文章](https://sspai.com/post/63663)，了解关于 Bitlocker 的更详细信息。

#### **创建自动加密和解密的保险库**

上面介绍的三种加密方法，我想已经基本能满足一般用户偶尔的加密需求了，但是 Bitlocker 会对整个分区的性能有影响，Encrypto 每次都需要单独对文件进行加密或解密，长期使用的话还是相对繁琐。

你可以使用另一款开源免费、且支持全平台客户端的加密软件 [Cryptomator](https://cryptomator.org/) 来**创建更加便捷的、可自动加密和解密的保险库。**

![image-20221011220340018](https://cdn.sspai.com/2022/10/11/article/e6ca49134c39f6e40b09fd8bc9ae70d9?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

安装 Cryptomator 后，点击左下角的「添加保险库」，然后选择任意文件夹位置，即可在该处创建一个保险库。比起需要收费的 [Boxcryptor](https://www.boxcryptor.com/en/)，完全免费的 Cryptomator 对可创建的保险库的数量没有任何限制。

![](https://cdn.sspai.com/2022/10/11/03784ddf526ecccf10cd909467177d54.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

创建完保险库后，在你的电脑上就会出现一个**虚拟磁盘**，就像插入一个 U 盘一样，**所有被放进这个磁盘的文件都会被自动加密**。而锁定保险库后，就相当于你拔掉了 U 盘，这个保险库就会消失，任何人都无法再访问这些文件。

![](https://cdn.sspai.com/2022/10/11/7ec0d626bebdcbf892b42181a3ce3bd4.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

在我看看来，**Cryptomator 是更适合用来搭配网盘进行加密同步的一个软件。**

传统的加密软件，比如 VeraCrypt，会将整个文件夹的所有文件**加密后打包成一个文件**，这就导致这个文件夹内只要有任何一丝变动，打包后的这个文件也会有所改变，于是就**需要重新上传整个保险库**，浪费时间不说，还将反复消耗大量的同步流量。

![](https://cdn.sspai.com/2022/10/11/c2a02e3cc0250728175269ef07b2b390.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

而 Cryptomator 表示，什么年代了还在用传统加密 🤡 它所创建的保险库中，**所有的文件都是被单独加密的**，这就意味着即便是将整个保险库都放在同步盘中，就算有某个文件被改动后需要重新加密，那也只需要重新同步有变动的文件即可，这就**使得公共网盘的端到端加密成为可能。**

![](https://cdn.sspai.com/2022/10/11/be44fade19e424502fe847ddd70abd80.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

将保险库同步到另一台电脑上后，同样用 Cryptomator 打开就可以解密了。

![](https://cdn.sspai.com/2022/10/11/2eeb1c8b00c485fb72eeb9b2a7aef340.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

### **低成本备份方法**

#### **如果你有两块硬盘**

如果你的电脑里有**两块互相独立的硬盘，**不是 D 盘和 E 盘的那种独立，而是两块在物理上可以互相抽离的硬盘，或者如果你有任何可外接的存储设备，例如 U 盘或者移动硬盘，那么这两个存储设备在互相独立的基础上，**是不太可能同时坏掉的。**

你可以使用 [FreeFileSync](https://freefilesync.org/) 这款免费软件，它是一个开源的、支持全平台客户端且有中文界面的备份神器，能够自动将 A 文件夹中的内容，定时地**双向同步、或镜像同步、或者增量同步**到其他存储设备的 B 文件夹内。

![](https://cdn.sspai.com/2022/10/11/387b2aafdaa9f753bb832bd13a416c27.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

还是要再次强调一遍，如果你只有一个硬盘，哪怕分区分了 D 盘和 E 盘，由于这两个盘符本质上还是在同一个硬盘内，所以但凡硬盘损坏，那么你将同时无法访问你的 D 盘或者 E 盘，这两个盘符一定要是在两个不同的物理硬盘上才行。

你可以阅读少数派的 [这篇文章](https://sspai.com/post/68473)，获取关于这款软件的更详细教程说明。

#### **如果你用的是 macOS**

建议启用 Time Machine 「时间机器」功能，开启后 Mac 系统**默认按照每小时一次的频率，增量备份整台 Mac** ，当然前提是你需要将 Mac 与额外的存储设备进行连接，例如外置硬盘、或者 NAS 之类的设备。

你可以查看下图中，关于时间机器的更详细说明。

![](https://cdn.sspai.com/2022/10/11/5e393fdd0cd08ddbfecfa2177a00725b.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

一旦开启这个功能，进入任意一个文件夹后，你就能按照自备份开启以来的时间线，**浏览这个文件夹内的所有文件的所有历史版本**，效果非常的酷炫，如下图所示：

![](https://cdn.sspai.com/2022/10/11/d918a365ffcc041a8cdba3a8b92919e3.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**排除特定文件夹**

时间机器默认备份的是整台 Mac，但你可以在右下角的「设置」选项中，将那些你并不需要的文件夹进行排除，以节省备份空间。

![](https://cdn.sspai.com/2022/10/11/80632700a5901c66728f900551784338.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**设置备份的频率**

可能有些人并不需要每小时一次这么高的备份频率（比如我），但 Mac 本身又不提供在备份频率方面的自定义选项，这就使得很多人不得不放弃时间机器这么好的功能。

不过你现在可以使用 [TimeMachineEditor](https://tclementdev.com/timemachineeditor/) 这款免费的软件来**设置时间机器备份的间隔**了，设置一次即可关闭，软件无需在后台挂着，好评！

![](https://cdn.sspai.com/2022/10/11/77658794b48eeeb4e6367641257c3fb1.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

#### **如果你用网盘备份**

其实但凡你能够使用最常见的网盘服务进行定期（或自动）的数据备份，你的数据安全程度就已经能遥遥领先绝大部分用户了，毕竟多的是将所有重要数据都存放在同一个硬盘里的人，一旦硬盘损坏，所有数据就被一锅端了。并且你还要知道的一点是，**固态硬盘一旦损坏，它的修复难度将远远高于机械硬盘。**

所以问题来了，什么样的网络存储服务适合用来备份数据呢？

**坚果云**

国内体验稍微好一点的文件备份&同步服务我会选择坚果云，最明显的缺点就是空间太小，就算订阅专业版也只有 42G，**所以只适合用来存储和同步文档类资料**。

但就个人经验而言，坚果云的文档备份体验真的要比百度网盘好太多，界面更加干净（没有广告），同步迅速，并且支持三个月内的历史版本管理，这点对文档管理来说非常重要。

![](https://cdn.sspai.com/2022/10/11/5464c362f188e1ac2e231bbeeb88f7d6.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

不过就算如此我也强烈建议你**不要只用网盘来备份你的数据**，毕竟坚果云（包括百度网盘）也不是没有出现过数据丢失的情况。现在的小容量的 U 盘也不过一杯奶茶钱， 64G 足够用来装完这辈子和下辈子的笔记文档了，所以建议结合上文提到的 FreeFileSync 来做双重备份会更加稳妥。

**OneDrive**

OneDrive 可能是目前国内几个网盘服务中，相对便宜又靠谱的一个。你可以找几个朋友共同合租一个 Office 365 家庭版套餐，平均到每个人只要 50~60，不仅能够使用正版的 Office，还自带 1T 容量的 OneDrive。

并且我也会建议你在使用 Office 文件时，打开它的「自动保存」功能，以便能随时将你的文件上传到 OneDrive 上。

![](https://cdn.sspai.com/2022/10/11/a594c09d17d27335de24fff38c7006bb.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

需要注意的是，请不要购买那种价格非常低的 Office 365 账号，将你的重要数据存放在随时可能被 ban 的账号上，无异于埋下一颗定时炸弹。

#### **将网盘映射到本地**

使用下面这两款免费软件，可以**将多个网盘（或者同一个网盘的多个账号）直接映射到本地**，如果网速足够，就可以直接将网盘当成一个硬盘使用，在备份和同步体积较小的文档类数据时，体验远比 OneDrive 自带的本地盘功能要好。

-   **macOS：**[Cyberduck](https://cyberduck.io/)
-   **Windows：**[RaiDrive](https://www.raidrive.com/)

![](https://cdn.sspai.com/2022/10/11/7cf6923027820af343e362d34f00febb.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**Cyberduck 与 Cryptomator 的无缝联动**

我这里将 Cryptomator 的保险库创建在了坚果云中，那么当我使用 Cyberduck 打开了坚果云内的这个保险库时，它会自动识别出这个文件夹是用 Cryptomator 加密的，输入密码后你就能在本地访问坚果云网盘中的加密保险库了，**省去了将保险库下载到本地再解密的过程**，真的非常非常方便。

![](https://cdn.sspai.com/2022/10/11/778e2f49cac1087a3879d06eb168415b.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**解密后的保险库**

![](https://cdn.sspai.com/2022/10/11/079333486c016e35a82174f39900e437.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**未解密、直接访问的保险库**

![](https://cdn.sspai.com/2022/10/11/665f92b3d4ec7af6a2c6c76faf064873.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

### **关于本地备份的结论**

1.  请至少使用一个网盘用来备份你的文件，文档备份使用坚果云，大容量文件备份使用 OneDrive；或者至少，百度网盘虽然下载速度不行，但在备份这件事上做得还算称职
2.  如果你不放心将私密文件直接放到公共网盘中，可以使用文中提到的各种加密软件进行加密
3.  Cryptomator + Cyberduck +坚果云是相对便捷，且安全系数足够高的同步与备份方法

## **云端与本地如何抉择**

显然，上述提及的所有备份、加密以及同步手段，全都与云端笔记无缘，但本地笔记与云端笔记并不是站到了互相对立的两端，而是各占圆的一半，缺了谁都不完整。那么在本地与云端之间，我们应当遵循何种策略进行选择呢？

**核心理念：按照内容的有效期选择笔记工具**

我的很大启发来自哈桑的这篇文章：[《按照内容有效期选择笔记工具》](https://www.yuque.com/deerain/gannbs/yodrsd)，它的标题已经能把我的所有思考都囊括在内，但我也建议任何对笔记软件感兴趣的人都去语雀读读他的文章。

这里我将结合这篇文章的核心论点，再简单聊聊本地与云端之间的选择策略。

-   **如果你期望永久保有你的数据**

显然没有任何一家云笔记服务商能给你这种承诺，微软谷歌的服务都有关停的时候，所以你也应当明白，**云笔记只是一种「需要持续付费的服务」**，服务或终止于你停止付费那天，或终止于经营不善倒闭的那天。

你的数据只有放在你的硬盘里才能真正属于你自己，所以前文讨论的那几种备份方法就能派上用场了。

-   **如果你的数据只用来服务当下**

工作时的流水账报告、短期的任务与计划、有效期较短的备忘录，或者任何你认为即使丢失也不会造成太大损失的内容，则不论是本地文档或在线文档都可使用，选择你最习惯、最趁手的那一款即可。

可以预见的是，目前主流的云笔记至少在未来 5 年都将持续存在，那些你觉得五年后大概率将不再被需要的文档，尽可放心地放在云端之上

-   **如果你既想要云文档的特性，又想最大限度保有数据**

在这种情况下，是否明白云文档的特性，能否持有正确的态度来对待云文档，是否清楚云文档存在的风险与隐患，将在很大程度上决定你对你的数据的掌握程度。

## 云笔记、会怎样？

无需安装、开箱即用、以及最重要的云同步是所有云笔记与生俱来的能力，但享受这些优点的同时，你应当清楚云端背后「附赠」的风险，就像你要知道选择本地笔记也可能遭遇笔记误删、硬盘损坏等问题一样。

### **云端笔记的定义**

-   企业内部使用的、不允许导出的云端文档，如石墨文档、飞书文档
-   个人使用的、导出文档时存在限制的云端笔记软件，如印象笔记、Notion 等
-   生态环境局限在 iOS 上，且只能用 iCloud 同步的笔记软件，如 GoodNotes、Notability 等

### **云端笔记的风险**

云端笔记的最大优势，就是不需要像那些纯本地在线的笔记一样，需要费心去折腾多端同步的方法。毕竟如果你试过 Obsidian 的 iOS 与 Windows 客户端的同步，就会明白要想顺畅地全平台同步 Obsidian 将是多么麻烦的一件事（除非付费）。

但云端笔记在安全与隐私这件事上，还是完全无法与本地笔记相提并论的。

1.  所有云笔记都有过数据丢失的案例，不过丢失的数据大概率都能找回
2.  几乎所有的云笔记在登录时都不提供两步验证或者端到端加密手段
3.  几乎所有的云笔记都存在内容审核的情况。尤其国内，所有的云笔记更加**必须遵照政策法规**，对所有上传至其服务器的内容**进行机器为主、人工为辅的内容合法性审查**
4.  大部分云笔记在分享内容时会对笔记内容进行二次审核，**少部分文档软件甚至会对你的本地文档擅自进行「和谐」操作**

上述四点是所有云笔记都不会告诉你的事实，但你一定要心里有数，才能更好地判断什么样的内容适合放在云端之上。

### **关于企业云文档**

这里不是要教各位怎么将企业文档下载到本地，因为这将违反任何一家企业的**数据安全条例**。但我觉得有必要首先提醒大家的一点是，**请不要用任何类型的企业文档工具去记录和存储任何个人相关的信息。**

否则未来一旦你离开这家企业，你就将立即失去这些文档的访问权限，不论你找谁都没用。

![](https://cdn.sspai.com/2022/10/11/736ad01b920e51f996e6c2eeef776f85.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

## **云笔记、怎么选？**

### **选择更开放的云笔记**

如果你已经从「内容的有效期」这个维度判断，将数据放在云端也不是不行，那么我认为云笔记软件其实在多数情况下，不论是便捷性还是功能性上都要好于完全本地离线的笔记软件，毕竟云端意味着付费，而付费意味着能支持开发更多的功能。

但这时并不意味着你应该以「笔记功能的丰富与否」来判断一款笔记软件的好坏，否则印象笔记大概能做到天下第一吧，我认为还有两个重要因素是你需要认真考量的。

其一是看它能否便捷地与其他软件进行联动，例如有没有 API 接口、是否支持 [URL Scheme](https://sspai.com/post/31500) 等；更重要的其二，则是看它是否足够开放（自信），有没有提供便捷的导出方式、以及导出的格式是否足够友好。**前者拓宽了它的上限，后者则保证了它的下限**——就算真的难用，或者它经营不下去了，你也有办法迁移到别的笔记软件，从而保证你的数据永远都是你的。

#### **反面案例**

最不体面的笔记软件是不管你付不付费，它都要锁住你的所有笔记，生怕一让你导出，你就立马要移情别恋，所以焊死车门，谁都别想下车。什么叫不自信，这就叫不自信。

印象笔记最新版本的导出格式由原来的 `.enex` 改成了现在加密的 `.notes`格式，使得再也没有任何一款笔记软件能够兼容它导出的笔记格式，我的 [这期视频](https://www.bilibili.com/video/BV1L3411e7L4) 又能再加一条吐槽。而有道云笔记则砍掉了全库笔记导出功能，现在你只能一则笔记一则笔记地导出为 Word 或者 PDF，用意何在已经昭然若揭。

所以如果你要选择这些类型的笔记软件，就得做好一辈子不迁移数据的心理准备。

### **哪款云笔记更好？**

由于笔记软件实在太多，所以此处的统计样本来自于我的 [B站视频](https://space.bilibili.com/319417) 中，关于**「你在用的笔记软件是什么」**的弹幕提问，粗略的统计结果如下图所示：

![](https://cdn.sspai.com/2022/10/11/faa6ee33007d867d1dcc403c17ea1b2d.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**注意：**弹幕统计无法做太细致的数据清理，没办法排除单用户重复发言，也没有录入使用缩写或错别字的弹幕

就结果而言，很不幸的一点是**几乎所有能在云端使用的笔记软件在「批量导出」这点上都是残废或半残废状态**，只有 Notion 做到了相对最好，尽管它还能更好。而 wolai 则在单文件的导出格式上最为丰富实用，官方也有全库导出 Markdown 和 HTML 的 [计划](https://www.wolai.com/wolai/dsrSCXRRnbPtHy2KtsnhCn)，可惜目前还没有个准确的上线时间。

![](https://cdn.sspai.com/2022/10/11/86368f8de40c3a5b4a3dfc870480eb23.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

**注：**

-   虽然飞书在各个平台都有客户端，但纯粹的飞书文档似乎只在 Web 端才有
-   flomo 虽然支持批量导出，但导出的格式只有 HTML，所以其实还是不太行

#### **Notion 的钞能力**

以 Notion 为例，你可以一键将整个笔记库内的所有内容导出为 HTML、Markdown 以及 CSV 格式，虽然**你并不能将这些导出的数据重新导入 Notion**，但至少你的所有文本、图片、以及表格都能切切实实地存储在你的本地硬盘中。

![](https://cdn.sspai.com/2022/10/11/436c1f4286277ad15b95fb0b7d40d216.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

点击 `Export` 后，耗时 30 分钟，Notion 就将我所有的云端笔记打包整理好，然后发送下载链接到我的邮箱中，点击链接即可下载。**并且导出次数是没有任何限制的**，这些流量可都是钱呀。

![](https://cdn.sspai.com/2022/10/11/658aafceef7150d8e60c4584a2d607a0.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

我这两三年来存储在 Notion 的笔记一共有 3.2G 的大小，超过 6000 个 Page。建议你在导出时，**将导出格式选择为 HTML**，才能最大程度保证导出文件的可读性。

![](https://cdn.sspai.com/2022/10/11/af4681c0544ab394bd1a9eabcc8bbd37.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1)

我认为所有的云笔记至少要做到 Notion 这个程度，才能让人放心地将「内容的有效期为任意时间长度」的内容放在上面。只是惨淡的现实是，现在却竟然只有 Notion 能做到这个程度。一方面我完全理解开发者的「苦衷」，另一方面我又觉得咱们消费者对这些云笔记实在是太过包容了。

所以你觉得 Noiton 是因为一百亿刀估值了才能这样，还是是因为这样才能一百亿刀估值呢？

### **对待云笔记的态度**

1.  不需要过分担忧云笔记的数据安全性，这些主流的云笔记就算无法持续运营，也至少会在嘎掉之前留出数据导出的时间
2.  云端的便捷与绝对的隐私不可兼得，主动的窥探也许不会有，但被动泄露的风险还是存在的
3.  云笔记与绝对的数据安全不可兼得，所以定期的备份导出是必要的习惯
4.  **是否具备良好的导出方式与导出格式，应当是你选择云笔记时需要最优先考虑的问题之一**
5.  希望大家都能发挥自己用钱投票的能力与作用，共同监督所有的笔记软件开发商，**向不合理的功能或改动施加压力**，如此才能为自己和大众谋福利，让笔记软件的生态环境更加健康

## **关于本文**

-   这里是二一的笔记，一个硬核测评笔记软件和效率工具的图文与视频创作者，努力的目标是成为这个领域内的「头号玩家」，你可以看 [这篇文章](https://sspai.com/post/75780) 来了解关于我的故事
-   **本文是我的《笔记系统 · 基建补完计划》的第一篇**，你还可以在 [我的 B 站](https://space.bilibili.com/319417) 收看更多关于笔记软件的测评视频，比如这期：[《2022 Notion 终极测评》](https://www.bilibili.com/video/BV1Df4y1o7ZH)
-   本文所用到的工具和资源有：制图 - Mastergo、写作 - 思源笔记、截图 - Xnapper、图片标记 - CleanShot X；配图中的所有图标均来自 [Flaticon](https://www.flaticon.com/) 的作者 [Freepik](https://www.flaticon.com/authors/freepik)
-   文中如有任何错误或纰漏，欢迎留言指正