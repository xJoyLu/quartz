ENS 域名系统中目前支持多种顶级域名，比如 .eth .xyz .luxe。其中， .eth 是 ENS 系统的唯一原生域名，是由一系列智能合约控制的去中心化的域名。

.eth 域名的注册在经历了维克里拍卖式注册、短域名英式拍卖注册的阶段后，现在正式进入了即时注册的时代。相信未来很多人都会拥有自己的 ENS 域名。

友情提示：目前 .eth 域名资源依然非常丰富，很多优质的域名还没有被注册，比较容易挑选到心仪的域名，建议有意向的童鞋们抓紧吧。

本文将采用 “浏览器+插件钱包” 的方式演示在 ENS 官方管理器上进行注册的过程。您也可以通过手机钱包来注册，比如 imToken 或 TokenPocket（TP钱包注册教程），这些手机钱包内置了 ENS 官方应用，就不用再需要单独的浏览器了。

## **注册准备工作**

-   浏览器，建议使用 Chrome 或 Firefox 浏览器
-   以太坊钱包，本文中用的是最流行的 MetaMask 插件钱包（在国内的网络环境下，Firefox 上的 Metamask 插件更容易安装）
-   以太坊账户及余额，注册一个 .eth 域名需要大约价值 5 美元的以太币，再加上点 Gas 费

我们选用一个以太坊账户来进行域名注册，等域名注册成功后，.eth 注册器就会自动把这个账户作为新域名的注册人、管理员，并自动将域名解析至这个账户地址

### 查询域名是否已经被注册

在浏览器或钱包中打开 [ENS 管理器](https://app.ens.domains/)，并 [连接](https://ensuser.com/guides/index.html#%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E8%BF%9E%E6%8E%A5) 以太坊账户。

在页面中央那个醒目的文本框内输入想要注册的域名（目前只能注册 3 个及以上字符的域名）

![](data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%271450%27%20height=%27830%27/%3e)![](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2F0HQ1mt0_pWiYIok1YzrKP.png&w=3840&q=90)

从查询结果中我们可以看到，`注册人` 一栏是 `0xAb48E...9d17`，说明 `nihao.eth` 已经被账户 `0xAb48E...9d17` 注册了。

返回 ENS 管理器首页并重新输入一个域名：`ceshi.eth` ，点击 `查询` 按钮，可以看到 `ceshi.eth` 是可以注册的！

![](data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%271446%27%20height=%27822%27/%3e)![](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2F4nxH8X1RgnZZ8KADFwyhh.png&w=3840&q=90)

上图中的加减号可以调整需要注册的时间（默认是 1 年），后面是根据当前以太坊与美元的汇率自动计算出来的租金。5 个字符及以上的域名价格约等于每年 5 美元，4 个字符的价格约为每年 160 美元，3 个字符的价格约为每年 640 美元。2 个字符和 1 个字符的域名还不能注册。这里我们保持默认，即注册时支付一年的租金。

图中的 `通知我` 按钮可以开启域名准备完毕的通知，点击于否都不影响注册。

## **注册步骤**

确认域名可以注册后，可以看到上图中那段提示：

> 注册一个域名需要完成三个步骤：请求注册。需要在钱包中确认一笔交易，这是完成域名注册所需的两笔交易中的第一笔。（注：这笔交易没有转账只包含 Gas 费，用于向 .eth 注册器提交一个注册请求。）等一分钟。需要等待一段时间，以确保其他人没有尝试注册相同的名字，同时也是在保护你的注册请求。完成注册。点击 注册 按钮，并在钱包中再次确认一笔交易，只有在这次交易确认后，才能确定是不是成功注册了这个域名。

### **1. 请求注册**

现在我们开始注册流程，点击页面上的 `请求注册` 按钮发起注册请求，这时钱包会要求确认第一笔交易。确认后，等待交易被打包（一般不超过 30 秒，以太坊网络拥挤时或是 Gas 费偏低时可能要多等一会）。

![](data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%271460%27%20height=%27832%27/%3e)![](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2F-HfYpLUPxevy3w6peOWoQ.png&w=3840&q=90)

### **2. 等一分钟**

[该交易](https://cn.etherscan.com/tx/0xdf14f73bcf975c70eb086ffbba021427d185680641fcd523d4cf9f787d9df461) 被打包成功后，需要再等一分钟。一分钟过后，会显示如下界面，表示域名已经准备好了（如果你之前点击过 `通知我` 按钮，这时浏览器会弹出一个通知，告诉我们域名可以正式注册了）：

![](data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%271444%27%20height=%27810%27/%3e)![](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2FH0UIOXh6j5aC6-WHrtleK.png&w=3840&q=90)

### **3. 完成注册**

点击页面中的 `注册` 按钮，钱包会要求确认第二笔交易（这笔交易中包含了一年的租金）。确认后，等待第二次交易的被打包，[该交易](https://cn.etherscan.com/tx/0x6e4389a2a749906e1f644fec62ee561b90f6a3e65222b77af99400ed7d2542ba)被打包成功后，绿色进度条走完，表示注册成功：

![](data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%271456%27%20height=%27828%27/%3e)![](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2FXji-73gofW0uJgGgjL2eZ.png&w=3840&q=90)

这个域名就注册完成了！

自从 eth 注册器合约在 2020 年 2 月初重新部署以后，我们在注册 eth 域名时，注册器合约会自动为我们设置公共解析器并将此域名解析至注册时使用的以太坊地址。也就是说，我们的 .eth 域名注册成功后就可以直接使用了，向域名转账，资金就会流入你的以太坊账户。一句话概括就是：方便多了！而且还可以省下几笔交易费。

所以，赶紧把你注册的域名告诉需要给你转账的朋友们吧！

### 如何设置 ENS 域名的解析器

## **ENS 解析器是什么**

解析器是一个智能合约，负责将 ENS 域名转换为地址或其他类型的哈希和文本数据，合约内保存着这些解析记录。只要是符合解析器相关标准的智能合约，都可以在 ENS 中作为解析器程序。解析器可以分为两种：

1.  **公共解析器**。[公共解析器](https://ensuser.com/docs/contract-api-reference/publicresolver.html) 服务于需求简单的用户，比如不经常更改地址的用户。
2.  **自定义解析器**。对于解析有特殊需求的用户可以编写并部署自已的解析器，有关内容的学习可从 [这里](https://ensuser.com/docs/contract-developer-guide/writing-a-resolver.html) 开始。

## **设置解析器**

下面我们以 `ceshi.eth` 为例介绍如何给域名设置解析器。

### **操作步骤**

> 在浏览器或钱包中打开 ENS 管理器，并使用域名的管理员账户 连接。输入 ceshi.eth 并点击 查询 按钮，进入 ceshi.eth 的管理页面（如果我们输入的是一个未被注册的域名，那么点击 查询 按钮后会显示注册页面）。在管理菜单中点击 解析器 右侧的 设置 按钮，解析器设置区域会自动展开，并显示一个文本框。你可以在这个打开的文本框中输入任何一个符合标准的解析器智能合约地址。对于普通用户来说，直接用公共解析器是更方便、更安全的方式，点击文本框下面的 使用公共解析器 链接，管理器会自动获取并填写最新的公共解析器地址。点击 保存 按钮，这时钱包会要求确认交易，确认后，等待交易被打包。该交易 被打包成功后，解析器 这一行显示的地址会变成我们刚刚设置的解析器地址，解析器就设置完成了。

## **将 ENS 域名解析至以太坊地址**

在所有可以设置的记录类型中，最常用的就是以太坊地址，将 ENS 域名解析到以太坊地址以后，其他人就可以通过 ENS 域名来向你转账。

[前面](https://ensuser.com/guides/setresolver.html#%E5%85%B3%E4%BA%8E%E8%A7%A3%E6%9E%90%E5%99%A8%E7%9A%84%E6%83%85%E5%86%B5%E8%AF%B4%E6%98%8E) 我们提到，你如果成功注册了一个域名，那么注册器已经自动将域名解析至注册时所用的以太坊地址。但有些情况下（比如想要更改接收资金的地址），人们需要将域名解析至另外一个地址，这时候就需要重新设置这条解析记录。

### **注意事项**

1.  设置解析记录的前提是该域名已经正确 [设置解析器](https://ensuser.com/guides/setresolver.html) 。
2.  无论注册人和管理员是哪个账户，以后其他账户向这个 ENS 域名发送的资金都是流入到它的解析记录账户，也就是我现在即将设置的这个账户。

下面我们以 `ceshi.eth` 为例，将其解析到以太坊地址 `0xd55dA...D096` 。

### **操作步骤**

> 打开 ENS 管理器 ，并进入 ceshi.eth 的管理页面。点击 以太坊地址 最右侧的编辑按钮（一只小铅笔），展开解析地址的编辑区域，出现一个文本框。将我们要解析到的以太坊地址（0xd55dA...D096）复制到这个文本框中（这里的地址必须是一个合法的以太坊地址）。点击 保存 按钮，这时钱包会要求确认交易，确认后，等待交易被打包。该交易 被打包成功后，以太坊地址 这一行显示的地址会变成我们刚刚设置的地址：0xd55dA...D096 ，解析记录就设置成功了。

现在我们如果向 `ceshi.eth` 转账，资金就会流入 `0xd55dA...D096` 这个账户。

## **将 ENS 域名解析至比特币地址**

下面我们以 `ceshi.eth` 为例介绍如何添加一条解析至比特币地址的解析记录。

### **操作步骤**

> 在浏览器上打开 ENS 管理器，并使用域名的管理员账户 连接。输入 ceshi.eth 并点击 查询 按钮，进入 ceshi.eth 的管理页面。在 解析记录 区域中点击 + 按钮展开记录添加区域。点击 选择一种类型 下拉菜单，从中选择 其他地址 选项，这时旁边会显示一个 币种 下拉菜单。点击 币种 下拉菜单，从中选择 BTC 。将需要解析至的比特币地址填写到右侧的文本框中，并点击文本框右下方的 保存 按钮，这时钱包要求确认交易，确认后，等待交易被打包。该交易成功被打包后，解析记录 区域内就会增加一条 BTC 类型的记录，解析记录就添加完成了。

现在可以在支持此项功能的钱包上（比如 imToken）向这个域名发送比特币了！

### 如何设置 ENS 域名的反向解析记录

正向解析记录是将一个 ENS 域名解析到以太坊地址等资源的记录，与其相反，反向解析记录是指将一个以太坊地址解析到一个 ENS 域名的记录。

在前面的教程中，我们将 `ceshi.eth` 的正向解析记录设置为 `0xd55dA...D096`，现在我们设置反向解析记录，就需要将 `0xd55dA...D096` 解析到 `ceshi.eth`。

> 反向解析记录要和正向解析互相对应才能生效，设置反向解析，必须先设置正向解析，然后从域名正向解析记录中的以太坊地址反向解析到这个域名，否则反向解析是无效的。

## **操作步骤**

下面我们以 `ceshi.eth` 为例，介绍如何设置反向解析记录。

因为 `ceshi.eth` 的正向解析记录设置为 `0xd55dA...D096`，而且在设置反向解析时，每个账户只能将自己的地址解析到某个域名，所以现在我们需要使用 `0xd55dA...D096` 这个账户连接 [ENS 管理器](https://app.ens.domains/) 。

> 在浏览器上打开 ENS 管理器，并连接需要设置反向解析的账户。连接好之后，在页面的右上角或左侧区域找到并打开 我的域名 页面。在页面上找到反向解析记录区域（其中显示 反向记录：未设置）。由于之前没有设置过反向解析记录，所以在反向解析记录区域显示的是：反向记录：未设置 ，如果已经设置过反向解析，这里会显示 反向记录：已解析至 ***.eth 。点击 反向记录：未设置 这一行，会展开反向记录设置区域。该区域内有一段关于反向解析记录的简单说明，说明文字下面的下拉菜单，列出了已经正向解析至当前地址的 ENS 域名，从中选择我们需要设置的域名。如果没有域名正向解析至该地址，则这个下拉菜单中显示为空。点击区域内的 保存 按钮，钱包会要求确认交易，确认后，等待交易被打包。该交易被打包成功后，原来的 反向记录：未设置 会变成 反向记录：已解析至 ceshi.eth，反向解析记录就设置完成了。

### ENS 域名续费 - 如何给 .eth 域名续费

## **.eth 域名续费操作步骤**

下面，我们以 `ceshi.eth` 为例介绍续费操作。

> 在浏览器上打开 ENS 管理器 并 连接。连接好之后，输入我们需要续费的域名 ceshi.eth，点击 查询 按钮，会直接进入 ceshi.eth 的管理页面。管理页面中的 到期时间 一栏显示的是当前域名 ceshi.eth 的有效期截止到什么时间，我们尽量在这个时间节点之前给它续费，否则这个域名会自动被注册器释放，并可以被其他人注册。点击 到期时间 右侧的 续费 按钮，会展开域名续费区域。通过加减号调整需要续费的时长，这里我们选择 1 年，然后点击 续费 按钮，页面中央会弹出一个提示框，提示我们这个操作会更新域名在区块链上的状态，也就是更新到期时间，需要我们的确认。细心的用户可能会发现，这个续费的时长比一年要多一点，因为这里的一年指的是 365.2425 天，地球绕太阳公转一圈的时间。点击 确认 按钮确认，这时钱包会要求确认域名续费的交易，确认后，等待交易被打包。该交易 被打包成功后，域名续费完成，到期时间 一栏会显示续费后的有效期。

### 如何将 ENS 域名过户给别人（注册人转让）

ENS 域名过户是指将 ENS 域名的注册人转让给另一个账户，域名过户必须由该域名当前的注册人账户来执行，并且一旦过户成功，原来的注册人就不再拥有这个域名。

## **操作步骤**

下面，我们以 `ceshi.eth` 为例介绍如何过户一个域名。我们将把它的注册人账户从 `0xd5D17...CF2c` 转让至 `0xd55dA...D096`。

> 在浏览器上打开 ENS 管理器，并使用域名当前的注册人账户 连接。输入 ceshi.eth 并点击 查询 按钮，进入 ceshi.eth 的管理页面。点击 注册人 一栏右侧的 转让 按钮，会展开注册人转让区域。在其中的文本框中输入新的注册人账户 0xd55dA...D096（这里的账户必须是一个合法的以太坊地址）。输入地址后，管理器会自动侦测并在地址下面显示与这个地址进行了双向解析的域名 ceshi.eth，可以辅助我们确认地址是否正确，同时文本框右下角的 转让 按钮由灰色变成可操作状态（蓝色）。如果你没有设置域名的双向解析，这里就只会显示你输入的地址，但这不会影响我们的操作。点击区域内的 转让 按钮，页面中央会弹出一个提示框，提示我们这个操作会更新域名在区块链上的状态，即注册人变更，需要我们的确认。点击 确认 按钮，这时钱包会要求我们确认交易，确认后，等待交易被打包。该交易 被打包成功后，域名的注册人转让完成，注册人 一栏中的地址会自动变成新的注册人账户，即 0xd55dA...D096 。原注册人的账户 0xd5D17...CF2c ，也就是我们当前连接 ENS 管理器的账户，已经不再拥有 ceshi.eth 的域名过户和管理员指定权限（相应的操作按钮变为不可操作状态——灰色），说明此次过户成功。